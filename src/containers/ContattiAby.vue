<template>
  <div>
    <CModal
      color="dark"
      centered
      :show.sync="modale_contatto"
      style="z-index: 30"
      size="lg"
    >
      <template #header style="background-color: #1f4b6b !important">
        <strong style="text-transform: uppercase"
          >Recapiti per {{ dati_modale.descrizione }}</strong
        >
        <CButton class="close" @click="modale_contatto = false">
          <span aria-hidden="true">&times;</span>
        </CButton>
      </template>
      <template>
        <div class="d-flex align-items-center">
          <CContainer fluid>
            <CRow class="justify-content-center">
              <CCol md="10">
                <CCard>
                  <CCardBody>
                    <h1>{{ dati_modale.descrizione }}</h1>
                    <p class="text-muted"></p>
                    <p>Telefono: {{ dati_modale.telefono }}</p>
                    <p>Mail: {{ dati_modale.mail }}</p>
                    <p>Telegram: {{ dati_modale.telegram }}</p>
                    <p v-show="dati_modale.form_contatto != null">
                      INSERISCI IL TUO NUMERO DI TELEFONO PER ESSERE
                      RICONTATTATO form di contatto
                    </p>
                  </CCardBody>
                </CCard>
              </CCol>
            </CRow>
          </CContainer>
        </div>
      </template>

      <template #footer>
        <CButton
          @click="modale_contatto = false"
          color="dark"
          size="sm"
          variant="outline"
        >
          Chiudi
        </CButton>
      </template>
    </CModal>
    <CCard class="h-100">
      <CCardHeader class="d-flex justify-content-between">
        <strong class="h4 titolo_gradient">CONTATTACI</strong>
        <div class="card-header-actions"></div>
      </CCardHeader>
      <CCardBody id="manager" class="news_card py-0">
        <CListGroup class="contatto">
          <CListGroupItem
            v-for="(contatto, index) in elenco_contatti"
            :key="index"
            class="flex-column align-items-start grow"
          >
            <div
              class="d-flex w-100  py-2"
              style="text-transform: uppercase"
              @click="show_contatto(index)"
            >
              <div
                v-show="contatto.icona"
                class="icona_contatto mr-3"
                v-html="contatto.icona"
              ></div>
              <div class="recapito_name">
                <strong>{{ contatto.descrizione }}</strong>
                <br/>
                <div class="small_text">(Clicca per visualizzare le modalit√† di contatto)</div>
              </div>
            </div>
          </CListGroupItem>
        </CListGroup>
      </CCardBody>
    </CCard>
  </div>
</template>
<script>
export default {
  name: "ContattiAby",
  data() {
    return {
      chisono: JSON.parse(localStorage.getItem("chisono_data")),
      modale_contatto: false,
      dati_modale: [],
      elenco_contatti: [
        {
          descrizione: "Servizi Gas e Luce",
          mail: "esempio@email.com",
          telefono: "02-86882871 int XYZ",
          orarioTelefono: "orario 9-12:30 / 14:30-18:30",
          telegram: "333-123456789",
          orarioTelegram: "orario 11-18",
          form_contatto: null,
          icona: '<i class="far fa-lightbulb"></i>',
        },
        {
          descrizione: "Polizze RC Auto",
          mail: "esempio@email.com",
          telefono: "02-86882871 int XYZ",
          orarioTelefono: "orario 9-12:30 / 14:30-18:30",
          telegram: "333-123456789",
          orarioTelegram: "orario 11-18",
          form_contatto: null,
          icona: '<i class="fas fa-car-alt"></i>',
        },
        {
          descrizione: "Polizze Flotte e Trasporti",
          mail: "esempio@email.com",
          telefono: "02-86882871 int XYZ",
          orarioTelefono: "orario 9-12:30 / 14:30-18:30",
          telegram: "333-123456789",
          orarioTelegram: "orario 11-18",
          form_contatto: null,
          icona: '<i class="fas fa-truck-moving"></i>',
        },
        {
          descrizione: "Polizze Individuali e Professionisti",
          mail: "esempio@email.com",
          telefono: "02-86882871 int XYZ",
          orarioTelefono: "orario 9-12:30 / 14:30-18:30",
          telegram: "333-123456789",
          orarioTelegram: "orario 11-18",
          form_contatto: null,
          icona: '<i class="fas fa-user-tie"></i>',
        },
        {
          descrizione: "Polizze aziende e Fidejussioni",
          mail: "esempio@email.com",
          telefono: "02-86882871 int XYZ",
          orarioTelefono: "orario 9-12:30 / 14:30-18:30",
          telegram: "333-123456789",
          orarioTelegram: "orario 11-18",
          form_contatto: null,
          icona: '<i class="fas fa-industry"></i>',
        },
        {
          descrizione: "Servizio Sinistri",
          mail: "esempio@email.com",
          telefono: "Clicca per essere contattato",
          orarioTelefono: "orario 11-18",
          telegram: "333-123456789",
          orarioTelegram: "orario 11-18",
          form_contatto: "mail_per_richiamare",
          icona: '<i class="fas fa-car-crash"></i>',
        },
        {
          descrizione: "Area Amministrativa",
          mail: "esempio@email.com",
          telefono: "Clicca per essere contattato",
          orarioTelefono: "orario 11-18",
          telegram: "333-123456789",
          orarioTelegram: "orario 11-18",
          form_contatto: "mail_per_richiamare",
          icona: '<i class="fas fa-calculator"></i>',
        },
      ],
    };
  },
  methods: {
    show_contatto(index) {
      this.modale_contatto = true;
      this.dati_modale = {
        descrizione: this.elenco_contatti[index].descrizione,
        mail: this.elenco_contatti[index].mail,
        telefono: this.elenco_contatti[index].telefono,
        orariTelefono: this.elenco_contatti[index].orariTelefono,
        telegram: this.elenco_contatti[index].telegram,
        orariTelegram: this.elenco_contatti[index].orariTelegram,
        form_contatto: this.elenco_contatti[index].form_contatto,
      };
      console.log(index);
    },
  },
};
</script>
<style scoped>
.contatto li:hover {
  cursor: pointer;
  background-color: #ef7a13;
  color: white;
}
.contatto li:hover .small_text{
  color: white;
}
.card-header {
  border-bottom: 0px !important;
}
.card-footer {
  border-top: 0px !important;
}

#manager{
  font-size: 1rem;
}

#manager .list-group-item {
  border-left: 0px !important;
  border-right: 0px !important;
  border-bottom: 0px !important;
  border-radius: 0px !important;
}
#manager li {
  border-top: 1px solid rgba(0, 0, 21, 0.125) !important;
}
#manager li:last-of-type {
  border-bottom: 1px solid rgba(0, 0, 21, 0.125) !important;
}

#manager p {
  font-size: 1.1rem;
  font-weight: 100;
}

#manager p.nome {
  font-weight: 500;
  text-transform: capitalize;
}

#manager span.mail {
  text-transform: lowercase;
}

#manager .fa-fw {
  color: #1f4b6b;
}

.titolo_gradient {
  background: -webkit-linear-gradient(#ef7918, #1f4b6b);
  background-clip: border-box;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 700;
}
.icona_contatto {
  position: relative;
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  justify-content: center;
  border-radius: 50em;
  width: 50px;
  height: 50px;
  font-size: 14.4px;
  background-color: #1d4b6b;
  color: white;
  font-size: 1.5rem;
  /* margin-right: 10px; */
}
.recapito_name{
  /* margin: auto; */
}

.small_text{
  font-size: 0.7rem;
  color: rgb(155, 155, 155);
  
}

.grow { transition: all .2s ease-in-out; }
.grow:hover { transform: scale(1.1); }
</style>