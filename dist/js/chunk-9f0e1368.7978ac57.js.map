{"version":3,"sources":["webpack:///./src/containers/AddNews.vue?02ec","webpack:///./src/views/news/GestioneNews.vue?9282","webpack:///./src/containers/AddNews.vue?646e","webpack:///./node_modules/@coreui/icons/js/free/cil-x.js","webpack:///src/containers/AddNews.vue","webpack:///./src/containers/AddNews.vue?d2f0","webpack:///./src/containers/AddNews.vue?8b42","webpack:///src/views/news/GestioneNews.vue","webpack:///./src/views/news/GestioneNews.vue?0843","webpack:///./src/views/news/GestioneNews.vue?cc65","webpack:///./src/views/news/GestioneNews.vue?e6ec"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","news_da_modificare","on","$event","nascondiModale","salvaNews","_e","staticClass","_v","ref","news","fields","placeholder","label","news_per_pagina","scopedSlots","_u","key","fn","onAggiungiClick","proxy","item","onToggleDetailsClicked","id","_s","Boolean","_toggled","collapseDuration","src","config_data","img_news_url","immagine","titolo","data","contenuto","onModificaClick","staticRenderFns","_g","_b","$parent","add_edit","chiudi","$attrs","$listeners","directives","name","rawName","value","expression","news_originale","schema_news","salva","model","callback","$$v","formValues","reset","ask_elimina","messaggio_esito","esito_add_edit","$options","icon_close","ask_delete","add","elimina","cilX","props","type","Object","required","default","loading","computed","vuole_modificare","vuole_aggiungere","methods","console","log","immagine_edit","stessa_img","params","files","file","id_news","id_db_news","cambio","utente","JSON","parse","localStorage","getItem","Nominativo","idUtente","$emit","invio_news","popolaModale","activated","mounted","component","details","modale_is_visible","news_template","keys","forEach","news_vuota","components","AddNews","load_news","modificaNews","news_modificata","aggiungiNews","news_da_aggiungere","length","push","newsEsisteGia","news_da_controllare","forzaUpdateTabella","getBadge","stato","toggleNews","id_news_da_togglare","$forceUpdate","mostraModale","cambiaPaginazioneTabella","target","per_page_items","$refs","tabella_news","paginationChange","pagination_object","old_val"],"mappings":"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","file":"js/chunk-9f0e1368.7978ac57.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNews.vue?vue&type=style&index=0&id=6c4497d7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"gestione_mondo\"}},[_c('keep-alive',[(_vm.modale_is_visible)?_c('AddNews',{staticStyle:{\"z-index\":\"30\"},attrs:{\"news_originale\":_vm.news_da_modificare,\"color\":\"info\",\"centered\":true,\"size\":\"lg\",\"closeOnBackdrop\":false},on:{\"closeModalClick\":function($event){return _vm.nascondiModale()},\"salvaNews\":function($event){return _vm.salvaNews()}}}):_vm._e()],1),_c('CRow',{staticClass:\"mt-2\"},[_c('h1',{staticClass:\"mb-3 mt-3 display-4\"},[_vm._v(\"Gestione News\")])]),_c('CRow',[_c('CCardBody',{staticClass:\"mt-2\",attrs:{\"color\":\"white\"}},[_c('CDataTable',{ref:\"tabella_news\",attrs:{\"items\":_vm.news,\"fields\":_vm.fields,\"table-filter\":{\n          placeholder: 'Ricerca...',\n          label: 'Ricerca nelle news:',\n        },\"items-per-page-select\":{ label: 'News per pagina' },\"items-per-page\":_vm.news_per_pagina,\"hover\":\"\",\"sorter\":\"\",\"pagination\":\"\",\"striped\":\"\"},scopedSlots:_vm._u([{key:\"thead-top\",fn:function(){return [_c('div',{staticClass:\"text-left\",staticStyle:{\"color\":\"white\"}},[_c('br'),_c('CButton',{attrs:{\"color\":\"info\",\"size\":\"s\",\"variant\":\"square\"},on:{\"click\":function($event){return _vm.onAggiungiClick()}}},[_vm._v(\" Aggiungi News \")])],1),_c('br')]},proxy:true},{key:\"show_details\",fn:function(ref){\n        var item = ref.item;\nreturn [_c('td',{staticClass:\"py-2\"},[_c('CButton',{attrs:{\"color\":\"primary\",\"variant\":\"outline\",\"square\":\"\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.onToggleDetailsClicked(item.id)}}},[_vm._v(\" \"+_vm._s(Boolean(item._toggled) ? \"Nascondi\" : \"Mostra\")+\" \")])],1)]}},{key:\"details\",fn:function(ref){\n        var item = ref.item;\nreturn [_c('CCollapse',{attrs:{\"show\":item._toggled,\"duration\":_vm.collapseDuration}},[_c('CCardBody',[_c('CMedia',{attrs:{\"aside-image-props\":{\n                  \n                  src: _vm.config_data.img_news_url + item.immagine,\n                }}},[_c('h4',[_vm._v(\" \"+_vm._s(item.titolo)+\" \")]),_c('p',{staticClass:\"text-muted\"},[_c('strong',[_vm._v(\" Pubblicata il: \")]),_vm._v(_vm._s(item.data)+\" \")]),_c('div',[_c('span',{staticClass:\"text-muted\"},[_c('strong',[_vm._v(\"Testo della news:\")])]),_c('br'),_vm._v(_vm._s(item.contenuto)+\" \")]),_c('CButton',{staticClass:\"mt-3\",attrs:{\"size\":\"sm\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.onModificaClick(item)}}},[_vm._v(\" Modifica \")])],1)],1)],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CModal',_vm._g(_vm._b({attrs:{\"show\":true},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',{staticClass:\"h4\"},[(_vm.$parent.add_edit == 'edit')?_c('strong',[_vm._v(\"Modifica News\")]):_c('strong',[_vm._v(\"Aggiungi News\")])]),_c('CButton',{staticClass:\"close\",on:{\"click\":function($event){return _vm.chiudi()}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]},proxy:true},{key:\"footer-wrapper\",fn:function(){return [_c('span')]},proxy:true}])},'CModal',_vm.$attrs,false),_vm.$listeners),[[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.add),expression:\"add\"}]},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$parent.add_edit == 'edit'),expression:\"$parent.add_edit == 'edit'\"}]},[_c('div',{staticClass:\"row justify-content-center\"},[_c('CImg',{staticClass:\"pb-2\",attrs:{\"src\":_vm.$parent.config_data.img_news_url + _vm.news_originale.immagine,\"block\":\"\",\"width\":\"20%\",\"align\":\"right\"}})],1),_c('div',{staticClass:\"row justify-content-center\"},[_c('strong',[_vm._v(\"Immagine attuale\")])])]),(_vm.vuole_modificare)?_c('FormulateForm',{staticClass:\"add-news-form\",attrs:{\"name\":\"add_news\",\"schema\":_vm.schema_news},on:{\"submit\":function($event){return _vm.salva()}},model:{value:(_vm.formValues),callback:function ($$v) {_vm.formValues=$$v},expression:\"formValues\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('FormulateInput',{attrs:{\"id\":\"reset-btn\",\"type\":\"button\",\"label\":\"Reset\",\"data-ghost\":\"\"},on:{\"click\":function($event){return _vm.reset()}}}),_c('FormulateInput',{attrs:{\"type\":\"submit\",\"label\":\"Salva\",\"name\":\"salva\"},on:{\"click\":function($event){return _vm.salva()}}}),(_vm.$parent.add_edit == 'edit')?_c('CButton',{attrs:{\"id\":\"elimina_btn\",\"color\":\"danger\"},on:{\"click\":function($event){return _vm.ask_elimina()}}},[_vm._v(\" Elimina \")]):_vm._e()],1)]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"text-center\"},[(_vm.messaggio_esito == '')?_c('div',{staticClass:\"text-center\"},[_c('span',{staticClass:\"h3\"},[_c('img',{staticStyle:{\"width\":\"50px\"},attrs:{\"src\":\"img/loading-circle.gif\"}}),_vm._v(\" Salvataggio news in corso ...\")])]):_c('div',{staticClass:\"text-center\"},[_c('span',{staticClass:\"h3\"},[(_vm.esito_add_edit == 'OK')?_c('img',{staticStyle:{\"width\":\"50px\"},attrs:{\"src\":\"img/ok.gif\"}}):_c('img',{staticStyle:{\"width\":\"50px\"},attrs:{\"src\":\"img/ko.gif\"}}),_vm._v(\" \"+_vm._s(_vm.messaggio_esito))]),_c('br'),_c('CButton',{attrs:{\"color\":\"secondary\",\"variant\":\"outline\"},on:{\"click\":function($event){return _vm.chiudi()}}},[_c('CIcon',{attrs:{\"content\":_vm.$options.icon_close}}),_vm._v(\" Chiudi \")],1)],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ask_delete),expression:\"ask_delete\"}]},[_c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\"},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content delete\"},[_c('div',{staticClass:\"modal-header delete justify-content-center\"},[_c('h3',{staticClass:\"modal-title\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\" Attenzione \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.ask_delete = false}}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-body text-center\"},[_c('h3',[_c('strong',[_vm._v(\"Vuoi davvero eliminare la news ?\")])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.ask_delete = false; _vm.add = true;}}},[_vm._v(\" Annulla \")]),_c('button',{staticClass:\"btn btn-danger delete\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.elimina()}}},[_c('i',{staticClass:\"far fa-trash-alt\"}),_vm._v(\"Elimina \")])])])])])])])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const cilX = [\"512 512\",\"<polygon fill='var(--ci-primary-color, currentColor)' points='427.314 107.313 404.686 84.687 256 233.373 107.314 84.687 84.686 107.313 233.373 256 84.686 404.687 107.314 427.313 256 278.627 404.686 427.313 427.314 404.687 278.627 256 427.314 107.313' class='ci-primary'/>\"]","<template>\r\n  <CModal v-bind=\"$attrs\" v-on=\"$listeners\" :show=\"true\">\r\n    <template #header>\r\n      <span class=\"h4\">\r\n        <strong v-if=\"$parent.add_edit == 'edit'\">Modifica News</strong>\r\n        <strong v-else>Aggiungi News</strong>\r\n      </span>\r\n\r\n      <CButton class=\"close\" @click=\"chiudi()\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </CButton>\r\n    </template>\r\n\r\n    <template>\r\n      <div v-show=\"add\">\r\n        <div v-show=\"$parent.add_edit == 'edit'\">\r\n          <div class=\"row justify-content-center\">\r\n            <CImg\r\n              :src=\"$parent.config_data.img_news_url + news_originale.immagine\"\r\n              block\r\n              class=\"pb-2\"\r\n              width=\"20%\"\r\n              align=\"right\"\r\n            />\r\n          </div>\r\n          <div class=\"row justify-content-center\">\r\n            <strong>Immagine attuale</strong>\r\n          </div>\r\n        </div>\r\n        <FormulateForm\r\n          v-if=\"vuole_modificare\"\r\n          name=\"add_news\"\r\n          class=\"add-news-form\"\r\n          v-model=\"formValues\"\r\n          :schema=\"schema_news\"\r\n          @submit=\"salva()\"\r\n        >\r\n          <div style=\"display: flex\">\r\n            <FormulateInput\r\n              id=\"reset-btn\"\r\n              type=\"button\"\r\n              label=\"Reset\"\r\n              data-ghost\r\n              @click=\"reset()\"\r\n            />\r\n            <FormulateInput\r\n              type=\"submit\"\r\n              label=\"Salva\"\r\n              name=\"salva\"\r\n              @click=\"salva()\"\r\n            />\r\n\r\n            <CButton v-if=\"$parent.add_edit == 'edit'\" id=\"elimina_btn\" color=\"danger\" @click=\"ask_elimina()\">\r\n              Elimina\r\n            </CButton>\r\n          </div>\r\n        </FormulateForm>\r\n      </div>\r\n      <div v-show=\"loading\" class=\"text-center\">\r\n        <div v-if=\"messaggio_esito == ''\" class=\"text-center\">\r\n          <span class=\"h3\"\r\n            ><img src=\"img/loading-circle.gif\" style=\"width: 50px\" />\r\n            Salvataggio news in corso ...</span\r\n          >\r\n        </div>\r\n        <div v-else class=\"text-center\">\r\n          <span class=\"h3\"\r\n            ><img\r\n              v-if=\"esito_add_edit == 'OK'\"\r\n              src=\"img/ok.gif\"\r\n              style=\"width: 50px\"\r\n            />\r\n            <img v-else src=\"img/ko.gif\" style=\"width: 50px\" />\r\n            {{ messaggio_esito }}</span\r\n          ><br />\r\n          <CButton @click=\"chiudi()\" color=\"secondary\" variant=\"outline\">\r\n            <CIcon :content=\"$options.icon_close\" />&nbsp;Chiudi\r\n          </CButton>\r\n        </div>\r\n      </div>\r\n      <div v-show=\"ask_delete\">\r\n        <div class=\"modal-mask\">\r\n          <div class=\"modal-wrapper\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n              <div class=\"modal-content delete\">\r\n                <div class=\"modal-header delete justify-content-center\">\r\n                  <h3 class=\"modal-title\" style=\"text-align: center\">\r\n                    Attenzione\r\n                  </h3>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"close\"\r\n                    data-dismiss=\"modal\"\r\n                    aria-label=\"Close\"\r\n                  >\r\n                    <span aria-hidden=\"true\" @click=\"ask_delete = false\"\r\n                      >&times;</span\r\n                    >\r\n                  </button>\r\n                </div>\r\n                <div class=\"modal-body text-center\">\r\n                  <h3><strong>Vuoi davvero eliminare la news ?</strong></h3>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-secondary\"\r\n                    @click=\"ask_delete = false; add = true;\"\r\n                  >\r\n                    Annulla\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-danger delete\"\r\n                    @click=\"elimina()\"\r\n                  >\r\n                    <i class=\"far fa-trash-alt\"></i>Elimina\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <template #footer-wrapper>\r\n      <span></span>\r\n    </template>\r\n  </CModal>\r\n</template>\r\n<script>\r\nimport { cilX } from \"@coreui/icons\";\r\nimport axios from \"../../node_modules/axios\";\r\n\r\nexport default {\r\n  name: \"AddNewsModale\",\r\n  icon_close: cilX,\r\n  props: {\r\n    news_originale: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => {\r\n        return {\r\n          id: -1,\r\n          titolo: \"\",\r\n          contenuto: \"\",\r\n          immagine: \"\",\r\n        };\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      add: true,\r\n      \r\n      ask_delete: false,\r\n      loading: false,\r\n      messaggio_esito: \"\",\r\n      esito_add_edit: \"\",\r\n      formValues: {},\r\n      schema_news: [\r\n        {\r\n          type: \"image\",\r\n          name: \"immagine\",\r\n          label: \"Modifica Immagine di copertina\",\r\n\r\n          validation: \"required|mime:image/jpeg,image/png,image/gif\",\r\n          \"validation-messages\": {\r\n            required: \"Immagine obbligatoria\",\r\n            mime: \"Formato errato si accetta solo jpg, png o gif \",\r\n          },\r\n          help: \"Formati accettati png, jpg o gif\",\r\n        },\r\n        {\r\n          type: \"text\",\r\n          name: \"titolo\",\r\n          label: \"Titolo della News\",\r\n          validation: \"required\",\r\n          \"validation-messages\": {\r\n            required: \"Titolo obbligatorio\",\r\n          },\r\n          placeholder: \"Inserirsci il titolo\",\r\n          // value: this.items.titolo,\r\n        },\r\n        {\r\n          type: \"textarea\",\r\n          name: \"contenuto\",\r\n          label: \"Contenuto della News\",\r\n          validation: \"required\",\r\n          \"validation-messages\": {\r\n            required: \"Contenuto obbligatorio\",\r\n          },\r\n          placeholder: \"Contenuto della news\",\r\n          // value: this.items.contenuto,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    vuole_modificare() {\r\n      return this.news_originale !== -1;\r\n    },\r\n    vuole_aggiungere() {\r\n      return this.news_originale === -1;\r\n    },\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.formValues = this.news_originale;\r\n    },\r\n    salva() {\r\n      /* Controllo se devo inserire o modificare, */\r\n      if (this.$parent.add_edit == \"add\") {\r\n        /* AGGIUNGO NEWS */\r\n        \r\n        if (\r\n          this.formValues.titolo == \"\" ||\r\n          this.formValues.contenuto == \"\" ||\r\n          this.formValues.immagine.files[0] == null\r\n        ) {\r\n          /* se mancano parametri non procedo */\r\n          console.log(\"dati incompleti\");\r\n        } else {\r\n          /* AGGIUNGO LA NEWS INVIANDO I DATI AI SERVIZI PHP*/\r\n          this.add = false;\r\n          this.loading = true;\r\n          this.messaggio_esito = \"\";\r\n          try {\r\n            axios\r\n              .post(\r\n                this.$parent.config_data.api_url + \"addnews\",\r\n                {\r\n                  params: {\r\n                    titolo: this.formValues.titolo,\r\n                    contenuto: this.formValues.contenuto,\r\n                    file: this.formValues.immagine.files[0],\r\n                    utente: JSON.parse(localStorage.getItem(\"chisono_data\"))\r\n                      .Nominativo,\r\n                    idUtente: JSON.parse(localStorage.getItem(\"chisono_data\"))\r\n                      .idUtente,\r\n                  },\r\n                },\r\n                {\r\n                  header: {\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n                  },\r\n                }\r\n              )\r\n              .then((response) => {\r\n                this.formValues = this.news_originale;\r\n                this.messaggio_esito = response.data.message;\r\n                this.esito_add_edit = response.data.status;\r\n              });\r\n          } catch {\r\n            console.log(\"Impossibile comunicare con il server\");\r\n          }\r\n        }\r\n      } else {\r\n        /* MODIFICO NEWS */\r\n        this.add = false;\r\n        \r\n        this.loading = true;\r\n        this.messaggio_esito = \"\";\r\n        var immagine_edit;\r\n        var stessa_img;\r\n        var params;\r\n        if (typeof this.formValues.immagine === \"object\") {\r\n          /* Immagine modificata, carico la nuova */\r\n          immagine_edit = this.formValues.immagine.files[0];\r\n          stessa_img = false;\r\n          params = {\r\n            titolo: this.formValues.titolo,\r\n            contenuto: this.formValues.contenuto,\r\n            file: this.formValues.immagine.files[0],\r\n            immagine: immagine_edit,\r\n            id_news: this.$parent.news_da_modificare.id_db_news,\r\n            cambio: stessa_img,\r\n            utente: JSON.parse(localStorage.getItem(\"chisono_data\")).Nominativo,\r\n            idUtente: JSON.parse(localStorage.getItem(\"chisono_data\")).idUtente,\r\n          };\r\n        } else {\r\n          /* Stessa immagine non carico niente di nuovo*/\r\n          immagine_edit = this.news_originale.immagine;\r\n          stessa_img = true;\r\n          params = {\r\n            titolo: this.formValues.titolo,\r\n            contenuto: this.formValues.contenuto,\r\n            file: [],\r\n            immagine: immagine_edit,\r\n            id_news: this.$parent.news_da_modificare.id_db_news,\r\n            cambio: stessa_img,\r\n            utente: JSON.parse(localStorage.getItem(\"chisono_data\")).Nominativo,\r\n            idUtente: JSON.parse(localStorage.getItem(\"chisono_data\")).idUtente,\r\n          };\r\n        }\r\n\r\n        try {\r\n          axios\r\n            .post(\r\n              this.$parent.config_data.api_url + \"editnews\",\r\n              { params },\r\n              {\r\n                header: {\r\n                  \"Content-Type\": \"multipart/form-data\",\r\n                },\r\n              }\r\n            )\r\n            .then((response) => {\r\n              this.del_btn=false;\r\n              this.formValues = this.news_originale;\r\n              this.messaggio_esito = response.data.message;\r\n              this.esito_add_edit = response.data.status;\r\n            });\r\n        } catch {\r\n          console.log(\"Impossibile comunicare con il server\");\r\n        }\r\n      }\r\n    },\r\n    ask_elimina() {\r\n      this.add = false;\r\n      this.ask_delete = true;\r\n    },\r\n    elimina() {\r\n      this.ask_delete = false;\r\n      this.add = false;\r\n      this.loading = true;\r\n      this.messaggio_esito = \"\";\r\n      let params = {\r\n        id_news: this.$parent.news_da_modificare.id_db_news,\r\n        utente: JSON.parse(localStorage.getItem(\"chisono_data\")).Nominativo,\r\n      };\r\n      try {\r\n        axios\r\n          .post(\r\n            this.$parent.config_data.api_url + \"delete\",\r\n            { params },\r\n            {\r\n              header: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n              },\r\n            }\r\n          )\r\n          .then((response) => {\r\n            this.messaggio_esito = response.data.message;\r\n            this.esito_add_edit = response.data.status;\r\n          });\r\n      } catch {\r\n        console.log(\"Impossibile comunicare con il server\");\r\n      }\r\n    },\r\n    chiudi() {\r\n      this.add = true;\r\n      this.loading = false;\r\n      this.messaggio_esito = \"\";\r\n      this.$emit(\"closeModalClick\");\r\n    },\r\n    invio_news() {\r\n      // alert(\"inviato\");\r\n    },\r\n    popolaModale() {\r\n      this.formValues = this.news_originale;\r\n    },\r\n  },\r\n  activated() {\r\n    this.popolaModale();\r\n  },\r\n  mounted() {},\r\n};\r\n</script>\r\n<style scoped>\r\n.add-news-form {\r\n  padding: 2em;\r\n  background-color: white;\r\n  max-width: 800px;\r\n  box-sizing: border-box;\r\n}\r\n.form-title {\r\n  margin-top: 0;\r\n}\r\n.add-news-form::v-deep .formulate-input .formulate-input-element {\r\n  max-width: none;\r\n}\r\n#elimina_btn {\r\n  background-color: red !important;\r\n  border-color: red !important;\r\n  position: absolute;\r\n  right: 4em;\r\n  color: white;\r\n}\r\n\r\n.modal-header.delete{\r\n  background-color: red;\r\n  border-color: red;\r\n}\r\n.modal-content.delete{\r\n  border-color: red;\r\n}\r\n.btn.btn-danger.delete{\r\n  color: white;\r\n}\r\n\r\n@media (min-width: 420px) {\r\n  .double-wide {\r\n    display: flex;\r\n  }\r\n  .double-wide .formulate-input {\r\n    flex-grow: 1;\r\n    width: calc(50% - 0.5em);\r\n  }\r\n  .double-wide .formulate-input:first-child {\r\n    margin-right: 0.5em;\r\n  }\r\n  .double-wide .formulate-input:last-child {\r\n    margin-left: 0.5em;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddNews.vue?vue&type=template&id=6c4497d7&scoped=true&\"\nimport script from \"./AddNews.vue?vue&type=script&lang=js&\"\nexport * from \"./AddNews.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddNews.vue?vue&type=style&index=0&id=6c4497d7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c4497d7\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"gestione_mondo\">\r\n    <keep-alive>\r\n      <AddNews\r\n        :news_originale=\"news_da_modificare\"\r\n        color=\"info\"\r\n        :centered=\"true\"\r\n        v-if=\"modale_is_visible\"\r\n        style=\"z-index: 30\"\r\n        size=\"lg\"\r\n        :closeOnBackdrop=\"false\"\r\n        @closeModalClick=\"nascondiModale()\"\r\n        @salvaNews=\"salvaNews()\"\r\n      />\r\n    </keep-alive>\r\n\r\n    <CRow class=\"mt-2\">\r\n      <h1 class=\"mb-3 mt-3 display-4\">Gestione News</h1>\r\n    </CRow>\r\n\r\n    <CRow>\r\n      <CCardBody color=\"white\" class=\"mt-2\">\r\n        <CDataTable\r\n          ref=\"tabella_news\"\r\n          :items=\"news\"\r\n          :fields=\"fields\"\r\n          :table-filter=\"{\r\n            placeholder: 'Ricerca...',\r\n            label: 'Ricerca nelle news:',\r\n          }\"\r\n          :items-per-page-select=\"{ label: 'News per pagina' }\"\r\n          :items-per-page=\"news_per_pagina\"\r\n          hover\r\n          sorter\r\n          pagination\r\n          striped\r\n        >\r\n          <!-- testa  -->\r\n          <template #thead-top>\r\n            <div class=\"text-left\" style=\"color: white\">\r\n              <br />\r\n              <CButton\r\n                @click=\"onAggiungiClick()\"\r\n                color=\"info\"\r\n                size=\"s\"\r\n                variant=\"square\"\r\n              >\r\n                Aggiungi News\r\n              </CButton>\r\n            </div>\r\n            <br />\r\n          </template>\r\n\r\n          <template #show_details=\"{ item }\">\r\n            <td class=\"py-2\">\r\n              <CButton\r\n                color=\"primary\"\r\n                variant=\"outline\"\r\n                square\r\n                size=\"sm\"\r\n                @click=\"onToggleDetailsClicked(item.id)\"\r\n              >\r\n                {{ Boolean(item._toggled) ? \"Nascondi\" : \"Mostra\" }}\r\n              </CButton>\r\n            </td>\r\n          </template>\r\n\r\n          <template #details=\"{ item }\">\r\n            <CCollapse :show=\"item._toggled\" :duration=\"collapseDuration\">\r\n              <CCardBody>\r\n                <CMedia\r\n                  :aside-image-props=\"{\r\n                    \r\n                    src: config_data.img_news_url + item.immagine,\r\n                  }\"\r\n                >\r\n                  <h4>\r\n                    {{ item.titolo }}\r\n                  </h4>\r\n                  <p class=\"text-muted\">\r\n                    <strong> Pubblicata il: </strong>{{ item.data }}\r\n                  </p>\r\n                  <div>\r\n                    <span class=\"text-muted\"\r\n                      ><strong>Testo della news:</strong></span\r\n                    ><br />{{ item.contenuto }}\r\n                  </div>\r\n\r\n                  <CButton\r\n                    size=\"sm\"\r\n                    color=\"warning\"\r\n                    class=\"mt-3\"\r\n                    @click=\"onModificaClick(item)\"\r\n                  >\r\n                    Modifica\r\n                  </CButton>\r\n                </CMedia>\r\n              </CCardBody>\r\n            </CCollapse>\r\n          </template>\r\n        </CDataTable>\r\n      </CCardBody>\r\n    </CRow>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport AddNews from \"./../../containers/AddNews\";\r\nimport { config_data } from \"../../../public/config/config\";\r\n\r\nconst fields = [\r\n  { key: \"titolo\", _style: \"min-width:200px; font-weight: bold;\" },\r\n  \"data\",\r\n  {\r\n    key: \"show_details\",\r\n    label: \"Opzioni\",\r\n    sorter: false,\r\n    filter: false,\r\n  },\r\n];\r\n\r\nexport default {\r\n  name: \"GestioneNews\",\r\n  data() {\r\n    return {\r\n      news: [],\r\n      fields,\r\n      details: [],\r\n      collapseDuration: 300,\r\n      modale_is_visible: false,\r\n      news_da_modificare: {},\r\n      news_per_pagina: 10,\r\n      add_edit: \"\",\r\n      config_data,\r\n    };\r\n  },\r\n  computed: {\r\n    news_template() {\r\n      if (typeof this.news[0] === \"undefined\") return;\r\n      let news_vuota = {};\r\n      Object.keys(this.news[0]).forEach((key) => {\r\n        news_vuota[key] = \"\";\r\n      });\r\n      return news_vuota;\r\n    },\r\n  },\r\n  components: {\r\n    AddNews,\r\n  },\r\n  mounted() {\r\n    this.load_news();\r\n  },\r\n  methods: {\r\n    async load_news() {\r\n      var chiamata_news = [];\r\n      await axios\r\n        .get(config_data.api_url + \"listanews\")\r\n        .then((response) => {\r\n          chiamata_news = response.data;\r\n        });\r\n      // console.log(this.news);\r\n      // console.log(\"------\" + chiamata_news);\r\n      this.news = chiamata_news.map((item, id) => {\r\n        return { ...item, id };\r\n      });\r\n    },\r\n\r\n    modificaNews(news_modificata) {\r\n      // console.log(\"GestioneNews modificaNews\", news_modificata);\r\n      this.news[news_modificata.id] = news_modificata;\r\n    },\r\n\r\n    aggiungiNews(news_da_aggiungere) {\r\n      news_da_aggiungere._toggled = false;\r\n      //alert (\"salvo questo\" + JSON.stringify(news_da_aggiungere));\r\n      news_da_aggiungere.id = this.news.length;\r\n      this.news.push(news_da_aggiungere);\r\n    },\r\n\r\n    newsEsisteGia(news_da_controllare) {\r\n      return news_da_controllare.id in this.news;\r\n    },\r\n\r\n    salvaNews() {\r\n      \r\n      this.forzaUpdateTabella();\r\n\r\n    },\r\n    getBadge(stato) {\r\n      switch (stato) {\r\n        case \"Attiva\":\r\n          return \"success\";\r\n        case \"Disattivata\":\r\n          return \"secondary\";\r\n        default:\r\n          \"primary\";\r\n      }\r\n    },\r\n    toggleNews(id_news_da_togglare) {\r\n      this.news[id_news_da_togglare]._toggled = !this.news[id_news_da_togglare]\r\n        ._toggled;\r\n    },\r\n    onToggleDetailsClicked(id_news_da_togglare) {\r\n      this.toggleNews(id_news_da_togglare);\r\n      this.$forceUpdate();\r\n    },\r\n    mostraModale() {\r\n      this.modale_is_visible = true;\r\n    },\r\n    nascondiModale() {\r\n      this.modale_is_visible = false;\r\n      console.log(\"Aggiorno tabella\");\r\n      this.load_news();\r\n    },\r\n    onModificaClick(news_da_modificare) {\r\n      this.news_da_modificare = news_da_modificare;\r\n      this.add_edit = \"edit\";\r\n      this.mostraModale();\r\n      this.$forceUpdate();\r\n    },\r\n    onAggiungiClick() {\r\n      this.news_da_modificare = this.news_template;\r\n      this.add_edit = \"add\";\r\n      this.mostraModale();\r\n\r\n      this.$forceUpdate();\r\n    },\r\n\r\n    cambiaPaginazioneTabella(per_page_items) {\r\n      // crea oggetto da inviare alla CDataTable per cambiare la paginazione\r\n      let pagination_object = {\r\n        target: {\r\n          value: per_page_items,\r\n        },\r\n      };\r\n      // chiama la funzione di cambio paginazione sulla CDataTable\r\n      this.$refs.tabella_news.paginationChange(pagination_object);\r\n    },\r\n    forzaUpdateTabella() {\r\n      // per forzare l'update della CDataTable simuliamo un cambio di paginazione\r\n      // salva l'attuale valore di paginazione\r\n      // metti paginazione a 1\r\n      // rimetti attuale valore di paginazione\r\n      // in questo modo la tabella si ri-renderizza\r\n      let old_val = this.$refs.tabella_news.perPageItems;\r\n      this.cambiaPaginazioneTabella(1);\r\n      this.cambiaPaginazioneTabella(old_val);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n#gestione_mondo {\r\n  margin-right: 20px;\r\n  margin-left: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestioneNews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestioneNews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GestioneNews.vue?vue&type=template&id=d55adaaa&scoped=true&\"\nimport script from \"./GestioneNews.vue?vue&type=script&lang=js&\"\nexport * from \"./GestioneNews.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GestioneNews.vue?vue&type=style&index=0&id=d55adaaa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d55adaaa\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestioneNews.vue?vue&type=style&index=0&id=d55adaaa&scoped=true&lang=css&\""],"sourceRoot":""}