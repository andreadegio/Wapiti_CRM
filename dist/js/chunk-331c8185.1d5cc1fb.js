(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-331c8185"],{"17a5":function(e,t,i){"use strict";i("fe96")},bcde:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"margin-top":"50px"}},[i("CRow",[i("CCol",{staticStyle:{"background-color":"white","border-right":"1px solid lightgrey"},attrs:{md:"3"}},[e._l(e.documenti_list,(function(t){return i("div",{key:t.slug,staticClass:"folder parent pt-0 pl-5"},[i("span",{staticClass:"icon_folder h4",on:{click:function(i){return e.call_intermediario_list(t)}}},[e._v(" "+e._s(t.nome))])])})),e._l(e.folder_list,(function(t){return i("div",{key:t.slug,staticClass:"folder parent pt-0 pl-5"},[i("span",{staticClass:"icon_folder h4",on:{click:function(i){return e.call_parent_list(t)}}},[e._v(" "+e._s(t.nome))]),e._l(t.childs,(function(r){return i("li",{key:r.slug,staticClass:"folder h5"},[e._v(" └ "),i("span",{staticClass:"icon_folder",on:{click:function(i){return e.call_folder_list(r.slug,t)}}},[e._v(e._s(r.nome))]),i("div",{directives:[{name:"show",rawName:"v-show",value:"ALTRE_GARANZIE"==r.slug,expression:"items.slug == 'ALTRE_GARANZIE'"}],staticClass:"pl-4"},e._l(e.altre_gar,(function(r){return i("li",{key:r.index,staticClass:"folder h6",on:{click:function(i){return e.filter_garanzie(r,t)}}},[e._v(" └ "),i("span",{staticClass:"icon_folder"},[e._v(e._s(r))])])})),0)])}))],2)}))],2),i("CCol",{staticStyle:{"background-color":"white","border-right":"1px solid lightgrey"},attrs:{md:"5"}},[i("div",[e.breadcrumbs.length>0?i("div",{staticClass:"pt-3",attrs:{id:"breadcrumbs"}},[i("span",{staticStyle:{border:"1px solid","border-radius":"3px",padding:"2px"}},[i("font-awesome-icon",{attrs:{icon:e.breadcrumbs[0][1]}}),e._v(" "+e._s(e.breadcrumbs[0][0])+" ")],1),i("span",{staticStyle:{padding:"2px"}},[i("i",{staticClass:"fas fa-chevron-right"})]),""!==e.settore?i("span",{staticStyle:{border:"1px solid","border-radius":"3px",padding:"2px"}},[e._v(e._s(e.settore))]):e._e(),""!==e.filtro_gar?i("span",{staticStyle:{padding:"2px"}},[i("i",{staticClass:"fas fa-chevron-right"}),i("span",{staticStyle:{border:"1px solid","border-radius":"3px",padding:"2px"}},[e._v(e._s(e.filtro_gar))])]):e._e(),""==e.settore?i("div",{staticClass:"pt-5 h2"},["SETTORI 1 E 2"==e.breadcrumbs[0][0]?i("span",e._l(e.folder_list,(function(t){return i("div",{key:t.name,staticClass:"folder parent pt-0 pl-5",staticStyle:{"background-color":"#ebedef"}},e._l(t.childs,(function(r){return i("li",{key:r.nome,staticClass:"p-2 folder h5"},[i("span",{staticClass:"icon_folder",on:{click:function(i){return e.call_folder_list(r.slug,t)}}},[e._v(e._s(r.nome))])])})),0)})),0):i("span",[e._v(" Al momento non ci sono documenti disponibili ")])]):e._e()]):i("div",{staticClass:"pt-5 display-4"},[i("font-awesome-icon",{attrs:{icon:"arrow-left"}}),e._v(" Effettua una selezione ")],1),"INTERMEDIARIO"===e.settore?i("div",{staticClass:"pt-5"},[i("CDataTable",{attrs:{id:"int_table",items:e.files,fields:e.fields_INTERMEDIARIO,sorter:"",pagination:"","table-filter":{placeholder:"Ricerca...",label:"Ricerca:"},striped:"","items-per-page-select":{label:"Risultati per pagina"}},scopedSlots:e._u([{key:"visualizza_POG",fn:function(t){var r=t.item;return[i("td",{staticClass:"py-2 text-center"},[""!==r.Pog?i("CButton",{attrs:{color:"primary",variant:"outline",square:"",size:"sm"},on:{click:function(t){return e.preview(r.Pog)}}},[e._v(" Visualizza ")]):e._e()],1)]}},{key:"visualizza",fn:function(t){var r=t.item;return[i("td",{staticClass:"py-2 text-center"},[""!==r.Nomefile?i("CButton",{attrs:{color:"primary",variant:"outline",square:"",size:"sm"},on:{click:function(t){return e.preview(r.Nomefile)}}},[e._v(" Visualizza ")]):e._e()],1)]}}],null,!1,703191246)})],1):e._e(),"RC AUTO"===e.settore?i("div",{staticClass:"pt-5"},[i("CDataTable",{attrs:{id:"rc_table",items:e.files,fields:e.fields_RCA,sorter:"",pagination:"","table-filter":{placeholder:"Ricerca...",label:"Ricerca:"},striped:"","items-per-page-select":{label:"Risultati per pagina"}},scopedSlots:e._u([{key:"visualizza_POG",fn:function(t){var r=t.item;return[i("td",{staticClass:"py-2 text-center"},[""!==r.Pog?i("CButton",{attrs:{color:"primary",variant:"outline",square:"",size:"sm"},on:{click:function(t){return e.preview(r.Pog)}}},[e._v(" Visualizza ")]):e._e()],1)]}},{key:"visualizza",fn:function(t){var r=t.item;return[i("td",{staticClass:"py-2 text-center"},[""!==r.Nomefile?i("CButton",{attrs:{color:"primary",variant:"outline",square:"",size:"sm"},on:{click:function(t){return e.preview(r.Nomefile)}}},[e._v(" Visualizza ")]):e._e()],1)]}}],null,!1,703191246)})],1):e._e(),"ALTRE GARANZIE"===e.settore?i("div",{staticClass:"pt-5"},[i("CDataTable",{attrs:{id:"altre_table",items:e.files,fields:e.fields_ALTRE,sorter:"",pagination:"","column-filter-value":{Tipo:e.filtro_gar},"table-filter":{placeholder:"Ricerca...",label:"Ricerca:"},striped:"","items-per-page-select":{label:"Risultati per pagina"}},scopedSlots:e._u([{key:"visualizza_POG",fn:function(t){var r=t.item;return[i("td",{staticClass:"py-2 text-center"},[""!==r.Pog?i("CButton",{attrs:{color:"primary",variant:"outline",square:"",size:"sm"},on:{click:function(t){return e.preview(r.Pog)}}},[e._v(" Visualizza ")]):e._e()],1)]}},{key:"visualizza",fn:function(t){var r=t.item;return[i("td",{staticClass:"py-2 text-center"},[""!==r.Nomefile?i("CButton",{attrs:{color:"primary",variant:"outline",square:"",size:"sm"},on:{click:function(t){return e.preview(r.Nomefile)}}},[e._v(" Visualizza ")]):e._e()],1)]}}],null,!1,703191246)})],1):e._e()])]),i("CCol",{staticStyle:{"background-color":"white",height:"800px"},attrs:{md:"4"}},[i("span",{staticClass:"h2"},[e._v(" Anteprima")]),""!==e.file_name?i("div",{key:e.file_name,staticClass:"pt-5",staticStyle:{"background-color":"#ebedef"}},[i("div",{attrs:{id:"viewer"}}),i("object",{key:e.file_name,attrs:{width:"100%",height:"600",data:e.file_name,type:"application/pdf"}})]):e._e(),""==e.file_name?i("div",{staticClass:"pt-5 text-center",staticStyle:{"background-color":"#ebedef !important",height:"600px",width:"95%"}},[0!=e.timer&&0==e.select?i("div",{staticStyle:{"background-color":"#fff"}},[i("img",{staticStyle:{width:"50px"},attrs:{src:"img/search-folder.gif"}}),i("br"),i("span",{staticClass:"h4"},[e._v("... Recupero documento in corso ...")])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.select,expression:"select"}]},[i("span",{staticClass:"h4"},[e._v("Seleziona un documento")])])]):e._e()])],1)],1)},a=[],s=i("bc3a"),l=i.n(s),n=[{nome:"DOCUMENTI DELL'INTERMEDIARIO",tipo:"folder",ico:"edit",childs:[]}],o=[{nome:"SETTORI 1 E 2",tipo:"folder",ico:"car",childs:[{nome:"RC AUTO",slug:"RC_AUTO",tipo:"folder",ico:"car",childs:[]},{nome:"ALTRE GARANZIE ASSICURATIVE",slug:"ALTRE_GARANZIE",tipo:"folder",ico:"car"},{nome:"ALTRI SERVIZI",slug:"ALTRI_SERVIZI",tipo:"folder",ico:"car"}]},{nome:"SETTORI 3 E 4",slug:"RAMI",tipo:"folder",childs:[],ico:"user-shield"}],c=i("ac5e");function u(e,t,i,r,a,s,l){try{var n=e[s](l),o=n.value}catch(c){return void i(c)}n.done?t(o):Promise.resolve(o).then(r,a)}function f(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var s=e.apply(t,i);function l(e){u(s,r,a,l,n,"next",e)}function n(e){u(s,r,a,l,n,"throw",e)}l(void 0)}))}}function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m=[{key:"Descrizione",_style:"font-weight: bold; text-align:center;",label:"Descrizione"},{key:"visualizza",label:"Documento",sorter:!1,filter:!1,_style:"text-align:center;"}],g=[{key:"Descrizione",_style:"font-weight: bold; text-align:center;",label:"Compagnia"},{key:"visualizza_POG",label:"POG",sorter:!1,filter:!1,_style:"text-align:center;"},{key:"visualizza",label:"Set Informativo",sorter:!1,filter:!1,_style:"text-align:center;"}],h=[{key:"Tipo",_style:"font-weight: bold; text-align: center;",label:"Tipologia"},{key:"Descrizione",_style:"font-weight: bold; text-align: center;",label:"Compagnia"},{key:"visualizza",label:"POG",sorter:!1,filter:!1,_style:"text-align: center;"},{key:"visualizza",label:"Set Informativo",sorter:!1,filter:!1,_style:"text-align: center;"}],v=[{key:"Tipo",_style:"font-weight: bold; text-align: center;",label:"Tipologia"},{key:"Descrizione",_style:"font-weight: bold; text-align: center;",label:"Compagnia"},{key:"visualizza",label:"POG",sorter:!1,filter:!1,_style:"text-align: center;"},{key:"visualizza",label:"Set Informativo",sorter:!1,filter:!1,_style:"text-align: center;"}],b={name:"Documentale",components:{},data:function(){return{file_name:"",folder_list:o,select:!0,documenti_list:n,files:[].map((function(e,t){return p(p({},e),{},{id:t})})),fields_RCA:g,fields_ALTRE:h,fields_SERVIZI:v,fields_INTERMEDIARIO:m,settore:"",breadcrumbs:[],altre_gar:[],filtro_gar:"",timer:0}},methods:{call_folder_list:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.filtro_gar=i,this.breadcrumbs=[],this.breadcrumbs.push([t.nome,t.ico]);var r="";this.file_name="",this.select=!0,"RC_AUTO"==e&&(this.files=[],r="RCA",this.settore="RC AUTO",this.load_documentale(r)),"ALTRE_GARANZIE"==e&&(this.files=[],this.settore="ALTRE GARANZIE",r="AltreGaranzie",this.load_documentale(r),this.call_garanzie_list()),"ALTRI_SERVIZI"==e&&(this.settore="ALTRI SERVIZI")},load_documentale:function(e){var t=this;return f(regeneratorRuntime.mark((function i(){var r,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=[],a={method:"post",url:c["a"].servizi_broker+"Documentale_"+e,headers:{userID:localStorage.getItem("userID"),anagraficaID:localStorage.getItem("anagraficaID")}},i.next=4,l()(a).then((function(e){r=e.data})).catch((function(e){r=[],console.log(e)}));case 4:t.files=r;case 5:case"end":return i.stop()}}),i)})))()},call_garanzie_list:function(){var e=arguments,t=this;return f(regeneratorRuntime.mark((function i(){var r,a,s,n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:"",t.select=!0,t.file_name="",t.filtro_gar=r,t.altre_gar=[],a=[],s=[],n="AltreGaranzie",o={method:"post",url:c["a"].servizi_broker+"Documentale_"+n,headers:{userID:localStorage.getItem("userID"),anagraficaID:localStorage.getItem("anagraficaID")}},i.next=11,l()(o).then((function(e){a=e.data;for(var t,i={},r=a,l=0;t=r[l++];){var n=t.Tipo;n in i||(i[n]=1,s.push(n))}})).catch((function(e){a=[],console.log(e)}));case 11:t.altre_gar=s;case 12:case"end":return i.stop()}}),i)})))()},filter_garanzie:function(e){if(this.select=!0,"ALTRE GARANZIE"!==this.settore){this.filtro_gar=e,this.breadcrumbs=[],this.breadcrumbs.push(["SETTORE 1 E 2","car"]);var t="";this.file_name="",this.settore="ALTRE GARANZIE",t="AltreGaranzie",this.load_documentale(t),this.call_garanzie_list()}this.filtro_gar=e},call_parent_list:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.select=!0,this.filtro_gar=t,this.breadcrumbs=[],this.breadcrumbs.push([e.nome,e.ico]),this.settore="",this.file_name="",this.files=[]},call_intermediario_list:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.select=!0,this.filtro_gar=t,this.breadcrumbs=[],this.breadcrumbs.push([e.nome,e.ico]),this.settore="INTERMEDIARIO",this.file_name="",this.files=[{idCompagnia:1165,Tipo:"DOCUMENTO ABY",Descrizione:"MECCANISMI DI DISTRIBUZIONE DI ABY BROKER",Nomefile:"1165_CondizioniPolizza_PATENTEPUNTI.pdf",Pog:""},{idCompagnia:1165,Tipo:"DOCUMENTO ABY",Descrizione:"MECCANISMI DI DISTRIBUZIONE DELL'INTERMEDIARIO",Nomefile:"1165_CondizioniPolizza_PATENTEPUNTI.pdf",Pog:""}]},preview:function(e){var t=this;0==this.timer?(this.select=!1,this.file_name=c["a"].documentale_broker+e,this.timer=1,setTimeout((function(){t.timer=0}),8e3)):(this.file_name="",console.log("riprovo"),setTimeout((function(){t.preview(e)}),1e3))}}},y=b,I=(i("17a5"),i("2877")),R=Object(I["a"])(y,r,a,!1,null,"41967516",null);t["default"]=R.exports},fe96:function(e,t,i){}}]);
//# sourceMappingURL=chunk-331c8185.1d5cc1fb.js.map